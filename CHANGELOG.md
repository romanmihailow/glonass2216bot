# Changelog

### [1.3.0] - 2025-08-13
#### Added
- Централизованное логирование с выводом в stdout
- Поддержка уровней логирования INFO, WARNING, ERROR, DEBUG
#### Changed
- Все print() заменены на функции logging
- Улучшена читаемость логов в docker logs
#### Fixed
- Задержка вывода сообщений в контейнере из-за буферизации stdout


## [1.1.0] - 2025-08-13
### Added
- Автоматическая вставка пустого столбца в Google Sheets в колонку B перед каждым опросом.
- Запись даты/времени опроса в ячейку B1, а статусов машин — в B2...Bn.
- Обработка ошибки FloodWaitError для Telegram API с ожиданием.
- Логирование каждого запроса к боту с задержками между ними.
- Поддержка запуска в Docker-контейнере с конфигурацией через `.env` и `docker-compose.yml`.

### Fixed
- Исправлена ошибка `TypeError: string indices must be integers` при вставке столбца через gspread.
- Убраны конфликты между форматом `Worksheet.batch_update` и `Spreadsheet.batch_update`.

### Changed
- Улучшена структура кода: вынесена логика вставки столбцов в отдельную функцию.
- Обновлён Dockerfile для оптимизации сборки образа.


[1.0.0] - 2025-08-12
Добавлено
Реализован Python-сервис для опроса Telegram-бота @Glonass2216_bot по списку госномеров автомобилей.

Отправка запросов по каждому госномеру и обработка ответов с датой и временем последней связи.

Запись результатов в Google Sheets:

Каждый новый опрос создаёт новый столбец в листе, сдвигая предыдущие вправо.

В первом столбце — список госномеров.

Во втором столбце (новом) — время опроса и статусы "На связи" / "Нет связи" / "Нет ответа".

Конфигурация и секреты вынесены в отдельный файл secrets/config.py.

Поддержка файла Google service account ключа в формате JSON с пользовательским именем (например, glonass2216bot-9d9856e527f3.json).

Интервал опроса регулируется параметром POLL_INTERVAL_MINUTES в конфиге.

Инструкция по развёртыванию сервиса на виртуальной машине Ubuntu.

Файл .gitignore настроен на исключение папки secrets/ и сессий Telethon.

Асинхронная реализация опроса с использованием Telethon и gspread.

